# Hexo AnZhiYu ä¸»é¢˜ä¸ªæ€§åŒ–é…ç½®å®Œæ•´æŒ‡å—

**åˆ›å»ºæ—¶é—´**: 2025-09-24T21:30:00+08:00  
**æ–‡æ¡£ç±»å‹**: æŠ€æœ¯æ•™ç¨‹  
**é€‚ç”¨å¯¹è±¡**: Hexo åšå®¢ç”¨æˆ·ã€å‰ç«¯å¼€å‘è€…  

## ğŸ“– æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº† Hexo AnZhiYu ä¸»é¢˜çš„ä¸ªæ€§åŒ–é…ç½®æ–¹æ³•ï¼ŒåŒ…æ‹¬ï¼š

- ğŸ·ï¸ æ ‡ç­¾é¡µåŠ¨æ€æ ‡é¢˜åŠŸèƒ½å®ç°
- ğŸ  é¦–é¡µåˆ†ç±»å±•ç¤ºé…ç½®
- ğŸ“ æ–‡ç« åˆ†ç±»å’Œæ ‡ç­¾ç®¡ç†
- ğŸ”§ ä¸»é¢˜é…ç½®æœºåˆ¶æ·±åº¦è§£æ
- ğŸš€ éƒ¨ç½²å’Œç»´æŠ¤æœ€ä½³å®è·µ

## ğŸ¯ è§£å†³çš„æ ¸å¿ƒé—®é¢˜

### é—®é¢˜1ï¼šæ ‡ç­¾é¡µæ ‡é¢˜åŠ¨æ€å˜åŒ–åŠŸèƒ½ç¼ºå¤±

**ç°è±¡**: ç¦»å¼€/è¿”å›æ ‡ç­¾é¡µæ—¶æ²¡æœ‰æ˜¾ç¤ºè‡ªå®šä¹‰æ–‡å­—  
**æ ¹å› **: ä¸»é¢˜é…ç½®æ–‡ä»¶æœªæ­£ç¡®è®¾ç½®æˆ–è¢«é»˜è®¤é…ç½®è¦†ç›–  
**è§£å†³æ–¹æ¡ˆ**: 
1. åˆ›å»º `_config.anzhiyu.yml` è‡ªå®šä¹‰é…ç½®æ–‡ä»¶
2. ä¿®æ”¹ä¸»é¢˜é»˜è®¤é…ç½®è„šæœ¬ä¸­çš„ç¡¬ç¼–ç å€¼

### é—®é¢˜2ï¼šé¦–é¡µç¼ºå°‘åˆ†ç±»é¡µé¢å±•ç¤º

**ç°è±¡**: é¦–é¡µæ²¡æœ‰æ˜¾ç¤ºåˆ†ç±»æŒ‰é’®ï¼Œç‚¹å‡»åˆ†ç±»é“¾æ¥å‡ºç°404  
**æ ¹å› **: `home_top` é…ç½®æœªå¯ç”¨ï¼Œç¼ºå°‘å¯¹åº”åˆ†ç±»çš„æ–‡ç« å†…å®¹  
**è§£å†³æ–¹æ¡ˆ**:
1. å¯ç”¨ `home_top` é¦–é¡µé¡¶éƒ¨é…ç½®
2. åˆ›å»ºå¯¹åº”åˆ†ç±»çš„æ–‡ç« å†…å®¹
3. é…ç½®åˆ†ç±»æŒ‰é’®çš„æ ·å¼å’Œå›¾æ ‡

## ğŸ”§ æŠ€æœ¯å®ç°åŸç†

### æ ‡ç­¾é¡µåŠ¨æ€æ ‡é¢˜æŠ€æœ¯åŸç†

åŸºäºæµè§ˆå™¨çš„ **Page Visibility API** å®ç°ï¼š

```javascript
// æ ¸å¿ƒå®ç°é€»è¾‘
document.addEventListener("visibilitychange", function () {
  if (document.hidden) {
    // é¡µé¢éšè—æ—¶æ˜¾ç¤ºç¦»å¼€æ–‡å­—
    document.title = leaveTitle;
  } else {
    // é¡µé¢æ˜¾ç¤ºæ—¶æ˜¾ç¤ºè¿”å›æ–‡å­—ï¼Œ2ç§’åæ¢å¤åŸæ ‡é¢˜
    document.title = backTitle + OriginTitile;
    setTimeout(() => {
      document.title = OriginTitile;
    }, 2000);
  }
});
```

**é…ç½®ä¼ é€’æµç¨‹**:
1. `_config.anzhiyu.yml` â†’ ä¸»é¢˜é…ç½®åˆå¹¶
2. é…ç½®æ³¨å…¥åˆ° `GLOBAL_CONFIG` å…¨å±€å¯¹è±¡
3. JavaScript è¯»å–é…ç½®å¹¶ç»‘å®šäº‹ä»¶ç›‘å¬å™¨

### é¦–é¡µåˆ†ç±»å±•ç¤ºæŠ€æœ¯åŸç†

åŸºäº **Pug æ¨¡æ¿å¼•æ“** å’Œ **CSS å˜é‡ç³»ç»Ÿ**ï¼š

```pug
// themes/anzhiyu/layout/includes/top/top.pug
.categoryGroup
  each item in home_top_config.category
    .categoryItem(style=`box-shadow:${item.shadow}`)
      a.categoryButton(href=url_for(item.path) class=`${item.class}`)
        span.categoryButtonText=item.name
        i.anzhiyufont(class=`${item.icon}`)
```

**æ ·å¼ç³»ç»Ÿ**:
- CSS å˜é‡: `var(--anzhiyu-shadow-blue)` ç­‰é¢„å®šä¹‰é˜´å½±
- é¢œè‰²ç±»: `blue`, `green`, `red`, `orange` ç­‰ä¸»é¢˜è‰²
- å›¾æ ‡å­—ä½“: AnZhiYu è‡ªå®šä¹‰å›¾æ ‡é›†

## ğŸ“‹ é…ç½®æ–‡ä»¶è¯¦è§£

### ä¸»é¢˜é…ç½®ä¼˜å…ˆçº§

```
_config.anzhiyu.yml (æœ€é«˜ä¼˜å…ˆçº§)
    â†“
_config.yml ä¸­çš„ theme_config
    â†“
themes/anzhiyu/_config.yml (é»˜è®¤é…ç½®)
```

### å…³é”®é…ç½®é¡¹

```yaml
# æ ‡ç­¾é¡µåŠ¨æ€æ ‡é¢˜
diytitle:
  enable: true
  leaveTitle: "è«æ„å‰è·¯æ— çŸ¥å·±"
  backTitle: "å¤©ä¸‹è°äººä¸è¯†å›"

# é¦–é¡µé¡¶éƒ¨åˆ†ç±»å±•ç¤º
home_top:
  enable: true
  title: "Open and Share"
  subTitle: "è®°å½•å­¦ä¹ ï¼Œåˆ†äº«æˆé•¿"
  category:
    - name: Share
      path: /categories/Share/
      shadow: var(--anzhiyu-shadow-blue)
      class: blue
      icon: anzhiyu-icon-paper-plane
    # ... æ›´å¤šåˆ†ç±»é…ç½®
```

## ğŸ¨ å‰ç«¯è®¾è®¡å­¦ä¹ è¦ç‚¹

### CSS å˜é‡ç³»ç»Ÿçš„ä½¿ç”¨

AnZhiYu ä¸»é¢˜å¤§é‡ä½¿ç”¨ CSS å˜é‡æ¥å®ç°ä¸»é¢˜è‰²å½©ç®¡ç†ï¼š

```css
:root {
  --anzhiyu-shadow-blue: 0 8px 25px -8px #358bff;
  --anzhiyu-shadow-green: 0 8px 25px -8px #07c160;
  --anzhiyu-shadow-red: 0 8px 25px -8px #ff6b6b;
  --anzhiyu-shadow-orange: 0 8px 25px -8px #ff8c00;
}
```

**ä¼˜åŠ¿**:
- ç»Ÿä¸€çš„è‰²å½©ç®¡ç†
- æ”¯æŒåŠ¨æ€ä¸»é¢˜åˆ‡æ¢
- æ˜“äºç»´æŠ¤å’Œæ‰©å±•

### å“åº”å¼è®¾è®¡å®ç°

åˆ†ç±»æŒ‰é’®é‡‡ç”¨ Flexbox å¸ƒå±€ï¼Œæ”¯æŒä¸åŒå±å¹•å°ºå¯¸ï¼š

```css
.categoryGroup {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.categoryItem {
  width: calc(100% / 4 - 0.5rem);
  transition: all 0.8s cubic-bezier(0.65, 0.15, 0.37, 1.19);
}
```

### JavaScript äº‹ä»¶å¤„ç†

ä½¿ç”¨ç°ä»£ JavaScript API å®ç°äº¤äº’åŠŸèƒ½ï¼š

```javascript
// Page Visibility API çš„å…¼å®¹æ€§å¤„ç†
if (typeof document.hidden !== "undefined") {
  document.addEventListener("visibilitychange", handleVisibilityChange);
}
```

## ğŸš€ éƒ¨ç½²å’Œç»´æŠ¤æµç¨‹

### æœ¬åœ°å¼€å‘æµç¨‹

```bash
# 1. ä¿®æ”¹é…ç½®æ–‡ä»¶
vim _config.anzhiyu.yml

# 2. æ¸…ç†ç¼“å­˜
hexo clean

# 3. ç”Ÿæˆé™æ€æ–‡ä»¶
hexo generate

# 4. æœ¬åœ°é¢„è§ˆ
hexo server

# 5. è®¿é—® http://localhost:4000/blog/ æµ‹è¯•
```

### ç”Ÿäº§éƒ¨ç½²æµç¨‹

```bash
# 1. æäº¤ä»£ç 
git add .
git commit -m "feat: æ·»åŠ ä¸ªæ€§åŒ–é…ç½®"

# 2. æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push origin main

# 3. GitHub Actions è‡ªåŠ¨éƒ¨ç½²
# 4. è®¿é—® https://username.github.io/repo éªŒè¯
```

### ç»´æŠ¤æ£€æŸ¥æ¸…å•

- [ ] å®šæœŸæ£€æŸ¥ä¸»é¢˜æ›´æ–°
- [ ] å¤‡ä»½é‡è¦é…ç½®æ–‡ä»¶
- [ ] ç›‘æ§ç½‘ç«™æ€§èƒ½å’Œå¯ç”¨æ€§
- [ ] æ›´æ–°ä¾èµ–åŒ…ç‰ˆæœ¬
- [ ] æ£€æŸ¥é“¾æ¥æœ‰æ•ˆæ€§

## ğŸ” æ•…éšœæ’é™¤æŒ‡å—

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

**é—®é¢˜**: é…ç½®ä¿®æ”¹åä¸ç”Ÿæ•ˆ  
**è§£å†³**: 
1. æ£€æŸ¥ YAML è¯­æ³•
2. æ¸…ç† Hexo ç¼“å­˜
3. æ£€æŸ¥é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§
4. é‡å¯æœ¬åœ°æœåŠ¡å™¨

**é—®é¢˜**: åˆ†ç±»é¡µé¢æ˜¾ç¤º404  
**è§£å†³**:
1. ç¡®ä¿åˆ†ç±»ä¸‹æœ‰æ–‡ç« 
2. æ£€æŸ¥æ–‡ç«  Front Matter é…ç½®
3. é‡æ–°ç”Ÿæˆé™æ€æ–‡ä»¶

**é—®é¢˜**: æ ·å¼æ˜¾ç¤ºå¼‚å¸¸  
**è§£å†³**:
1. æ£€æŸ¥ CSS å˜é‡å®šä¹‰
2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
3. æ£€æŸ¥å›¾æ ‡å­—ä½“åŠ è½½

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®

### å›¾ç‰‡ä¼˜åŒ–

- ä½¿ç”¨ WebP æ ¼å¼å°é¢å›¾ç‰‡
- å¯ç”¨å›¾ç‰‡æ‡’åŠ è½½
- ä½¿ç”¨ CDN åŠ é€Ÿå›¾ç‰‡åŠ è½½

### ä»£ç ä¼˜åŒ–

- å¯ç”¨ CSS/JS å‹ç¼©
- ä½¿ç”¨ Gzip å‹ç¼©
- ä¼˜åŒ–å­—ä½“åŠ è½½ç­–ç•¥

### SEO ä¼˜åŒ–

- è®¾ç½®åˆé€‚çš„é¡µé¢æ ‡é¢˜å’Œæè¿°
- ä½¿ç”¨è¯­ä¹‰åŒ–çš„ HTML ç»“æ„
- æ·»åŠ ç»“æ„åŒ–æ•°æ®æ ‡è®°

## ğŸ“ å­¦ä¹ è·¯å¾„å»ºè®®

### åˆçº§é˜¶æ®µ
1. ç†Ÿæ‚‰ Hexo åŸºæœ¬æ¦‚å¿µå’Œå‘½ä»¤
2. ç†è§£ä¸»é¢˜é…ç½®æ–‡ä»¶ç»“æ„
3. å­¦ä¹  Markdown è¯­æ³•å’Œ Front Matter

### ä¸­çº§é˜¶æ®µ
1. æŒæ¡ CSS å˜é‡å’Œå“åº”å¼è®¾è®¡
2. å­¦ä¹  JavaScript äº‹ä»¶å¤„ç†
3. ç†è§£é™æ€ç½‘ç«™ç”ŸæˆåŸç†

### é«˜çº§é˜¶æ®µ
1. è‡ªå®šä¹‰ä¸»é¢˜ç»„ä»¶å’Œæ ·å¼
2. å¼€å‘ Hexo æ’ä»¶
3. ä¼˜åŒ–ç½‘ç«™æ€§èƒ½å’Œ SEO

## ğŸ“š å‚è€ƒèµ„æº

- [Hexo å®˜æ–¹æ–‡æ¡£](https://hexo.io/docs/)
- [AnZhiYu ä¸»é¢˜ä»“åº“](https://github.com/anzhiyu-c/hexo-theme-anzhiyu)
- [Page Visibility API æ–‡æ¡£](https://developer.mozilla.org/docs/Web/API/Page_Visibility_API)
- [CSS å˜é‡ä½¿ç”¨æŒ‡å—](https://developer.mozilla.org/docs/Web/CSS/Using_CSS_custom_properties)
- [Pug æ¨¡æ¿å¼•æ“æ–‡æ¡£](https://pugjs.org/)

## ğŸ¯ æ€»ç»“

æœ¬æ–‡æ¡£æä¾›äº† Hexo AnZhiYu ä¸»é¢˜ä¸ªæ€§åŒ–é…ç½®çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œæ¶µç›–äº†ä»åŸºç¡€é…ç½®åˆ°é«˜çº§å®šåˆ¶çš„å„ä¸ªæ–¹é¢ã€‚é€šè¿‡å­¦ä¹ æœ¬æ–‡æ¡£ï¼Œæ‚¨å¯ä»¥ï¼š

1. **æŒæ¡æ ¸å¿ƒé…ç½®æŠ€èƒ½** - ç†è§£ä¸»é¢˜é…ç½®æœºåˆ¶å’Œæœ€ä½³å®è·µ
2. **è§£å†³å¸¸è§é—®é¢˜** - å¿«é€Ÿå®šä½å’Œè§£å†³é…ç½®ç›¸å…³é—®é¢˜
3. **å®ç°ä¸ªæ€§åŒ–åŠŸèƒ½** - æ·»åŠ ç‹¬ç‰¹çš„äº¤äº’æ•ˆæœå’Œè§†è§‰è®¾è®¡
4. **å»ºç«‹ç»´æŠ¤æµç¨‹** - ç¡®ä¿åšå®¢çš„ç¨³å®šè¿è¡Œå’ŒæŒç»­ä¼˜åŒ–

å¸Œæœ›è¿™ä»½æ–‡æ¡£èƒ½å¤Ÿå¸®åŠ©æ‚¨æ‰“é€ å‡ºç‹¬ç‰¹è€Œä¸“ä¸šçš„ä¸ªäººåšå®¢ï¼

---

**æ–‡æ¡£ç»´æŠ¤**: æœ¬æ–‡æ¡£ä¼šæ ¹æ®ä¸»é¢˜æ›´æ–°å’Œç”¨æˆ·åé¦ˆæŒç»­æ›´æ–°  
**é—®é¢˜åé¦ˆ**: å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æäº¤ Issue æˆ– Pull Request
